# 트랜잭션 #
**트랜잭션** : 하나의 작업 단위 <br>
**rollback** : 모두 취소하는 행위 <br>
**데이터 정합성** : 데이터들의 값이 서로 일관성있게 일치하는 것

<br><br>
은행 송금 프로세스에서 <br> 
송금 상태 변경, 송금인 계좌 출금, 수금인 계좌 출금 <br>
세 작업 중 하나라도 실패하면 ***모든 작업을 취소***해야 한다.<br>

<br><br>

## 예시 코드 ##
**수정 전**
```
돈_송금() {
    송금_상태변경(처리중);
    송금인_계좌_출금();
    수금인_계좌_입금();
    송금_상태변경(완료);
}

송금_상태변경(status) {
    구현 코드;
}

송금인_계좌_출금() {
    구현 코드;
}

수금인_계좌_입금() {
    구현 코드;
}
```
<br>

**수정 후**
```
돈_송금() {
    try {
        송금_상태변경(처리중);
        송금인_계좌_출금();
        수금인_계좌_입금();
        송금_상태변경(완료);
    } catch (예외) {
        모두취소();
    }
}

송금_상태변경(status) throws 예외 {
    구현 코드;
}

송금인_계좌_출금() throws 예외 {
    구현 코드;
}

수금인_계좌_입금() throws 예외{
    구현 코드;
}   
```